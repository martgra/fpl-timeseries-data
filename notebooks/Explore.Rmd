---
jupyter:
  jupytext:
    text_representation:
      extension: .Rmd
      format_name: rmarkdown
      format_version: '1.2'
      jupytext_version: 1.6.0
  kernelspec:
    display_name: Python 3
    language: python
    name: python3
---

```{python}
import os
import json
from pathlib import Path

import pandas as pd
```

```{python}
data_path = Path("../data")

data_sources = os.listdir(data_path)
print(sorted(data_sources))
```

```{python}
print(Path(data_path, "2020-09-12T08-24-34Z_data.json"))
```

```{python}
with open(Path(data_path, "2020-09-13T00-00-00Z_data.json")) as json_file:
        fpl_json_13 = json.load(json_file)
        
with open(Path(data_path, "2020-09-14T00-00-00Z_data.json")) as json_file:
        fpl_json_14 = json.load(json_file)
```

```{python}
elements_df_13 = pd.DataFrame(fpl_json_13["elements"])
elements_df_14 = pd.DataFrame(fpl_json_14["elements"])
```

```{python}
# Noe hacking av rekkefølge av index for å få ønskede verdier først
_elements_columns = elements_df_13.columns.tolist()
_elements_columns.insert(0, _elements_columns.pop(_elements_columns.index("team")))
_elements_columns.insert(0, _elements_columns.pop(_elements_columns.index("first_name")))
_elements_columns.insert(0, _elements_columns.pop(_elements_columns.index("second_name")))
elements_df_13 = elements_df_13[_elements_columns]
# Vis 5 første linjer
display(elements_df_13.head(5))

# Vis tilgjengelige kolonner
display(sorted(_elements_columns))
```

```{python}
# Noe hacking av rekkefølge av index for å få ønskede verdier først
_elements_columns = elements_df_14.columns.tolist()
_elements_columns.insert(0, _elements_columns.pop(_elements_columns.index("team")))
_elements_columns.insert(0, _elements_columns.pop(_elements_columns.index("first_name")))
_elements_columns.insert(0, _elements_columns.pop(_elements_columns.index("second_name")))
elements_df_14 = elements_df_14[_elements_columns]
# Vis 5 første linjer
display(elements_df_14.head(5))

# Vis tilgjengelige kolonner
display(sorted(_elements_columns))
```

```{python}
elements_df_13[['second_name','transfers_in',
 'transfers_in_event',
 'transfers_out',
 'transfers_out_event',]]
```

```{python}
elements_df_14[['second_name','transfers_in',
 'transfers_in_event',
 'transfers_out',
 'transfers_out_event',]]
```

```{python}
with open(Path(data_path, "2020-09-14T06-00-00Z_data.json")) as json_file:
        fpl_json_14_1 = json.load(json_file)
elements_df_14_1 = pd.DataFrame(fpl_json_14_1["elements"])
```

```{python}
elements_df_14_1[['second_name','transfers_in',
 'transfers_in_event',
 'transfers_out',
 'transfers_out_event',]]
```

```{python}
_elements_columns
```

```{python}
x = [{i:{"change":"None", "description":"None", "notes": "None"}} for i in sorted(_elements_columns)]
```

```{python}
print(json.dumps(x, indent=4))
```

```{python}

```
